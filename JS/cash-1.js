// üìÅ cache.js
let cache = new Map();

// –æ–±—á–∏—Å–ª–∏—Ç–∏ —Ç–∞ –∑–∞–ø–∞–º‚Äô—è—Ç–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function process(obj) {
  if (!cache.has(obj)) {
    let result = /* —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–ª—è */ obj;

    cache.set(obj, result);
  }

  return cache.get(obj);
}

// –¢–µ–ø–µ—Ä –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ process() –≤ —ñ–Ω—à–æ–º—É —Ñ–∞–π–ª—ñ:

// üìÅ main.js
let obj = {/* —Å–∫–∞–∂—ñ–º–æ, —É –Ω–∞—Å —î –æ–±‚Äô—î–∫—Ç */};

let result1 = process(obj); // —Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–æ

// ...–ø—ñ–∑–Ω—ñ—à–µ, –∑ —ñ–Ω—à–æ–≥–æ –º—ñ—Å—Ü—è –≤ –∫–æ–¥—ñ...
let result2 = process(obj); // –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –≤–∑—è—Ç–∏–π –∑ –∫–µ—à—É

// ...–ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ –æ–±‚Äô—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π:
obj = null;

alert(cache.size); // 1 (–û–π! –û–±‚Äô—î–∫—Ç –¥–æ—Å—ñ –≤ –∫–µ—à—ñ —ñ –∑–∞–π–º–∞—î –ø–∞–º‚Äô—è—Ç—å!)
