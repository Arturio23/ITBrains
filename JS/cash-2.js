// üìÅ cache.js
let cache = new WeakMap();

// –æ–±—á–∏—Å–ª–∏—Ç–∏ —Ç–∞ –∑–∞–ø–∞–º‚Äô—è—Ç–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function process(obj) {
  if (!cache.has(obj)) {
    let result = /* —Ä–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è */ obj;

    cache.set(obj, result);
  }

  return cache.get(obj);
}

// üìÅ main.js
let obj = {/* —è–∫–∏–π—Å—å –æ–±‚Äô—î–∫—Ç */};

let result1 = process(obj);
let result2 = process(obj);

// ...–ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ –æ–±‚Äô—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π:
obj = null;

// –ù–µ –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ cache.size —Ç–æ–º—É, —â–æ —Ü–µ WeakMap,
// –∞–ª–µ —Ü–µ 0 –∞–±–æ –Ω–µ–∑–∞–±–∞—Ä–æ–º –±—É–¥–µ 0
// –ö–æ–ª–∏ obj –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑–±–∏—Ä–∞—á–µ–º —Å–º—ñ—Ç—Ç—è, –∫–µ—à–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –≤–∏–ª—É—á–µ–Ω—ñ —Ç–∞–∫–æ–∂
